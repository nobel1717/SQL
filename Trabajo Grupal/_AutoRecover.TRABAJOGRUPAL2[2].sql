create database GRUPO2;
use GRUPO2;

CREATE TABLE CLIENTES(
	RUCcliente VARCHAR(20) PRIMARY KEY NOT NULL,
	NOMBRE VARCHAR(10),
	IDdireccion VARCHAR(4) NOT NULL,
	IDnumero  varchar(4)NOT NULL,
);


CREATE TABLE NUMEROS_CLIENTES(
	IDnumero VARCHAR(4) PRIMARY KEY NOT NULL,
	TELEFONO1 BIGINT,
	TELEFONO2 BIGINT,
);

CREATE TABLE CLIENTES_PROVEEDORES(
    RUCcliente VARCHAR(4) NOT NULL,
	RUCproveedor VARCHAR(4) NOT NULL,
	);

CREATE TABLE DIRECCIONES(
	IDdireccion VARCHAR(4) PRIMARY KEY NOT NULL,
	NUMERO INT,
	CALLE INT,
	COMUNA VARCHAR(20),
	CIUDAD VARCHAR(30)
);
CREATE TABLE PRODUCTOS(
	IDproducto VARCHAR(4) PRIMARY KEY NOT NULL,
	NOMBRE VARCHAR(10),
	PRECIO_ACTUAL SMALLMONEY,
	STOCK INT,
	RUCproveedor VARCHAR(4) NOT NULL,
	IDcategoria VARCHAR(4) NOT NULL
);

CREATE TABLE VENTAS(
	IDventa VARCHAR(4) PRIMARY KEY NOT NULL,
	FECHA DATE,
	RUCcliente VARCHAR(4) NOT NULL,
	DESCUENTO DECIMAL(2,2),
	PRECIO_MOMENTO MONEY,
	MONTO_FINAL MONEY,
	CANTIDAD_VENDIDA INT,
	PRECIO_TOTAL MONEY
);

CREATE TABLE PROVEEDORES(
	RUCproveedor VARCHAR(4) PRIMARY KEY NOT NULL,
	NOMBRE VARCHAR(10),
	IDdireccion VARCHAR(4) NOT NULL,
	IDnumero varchar(4)	NOT NULL,
	PAGINA_WEB NVARCHAR(20)
);

CREATE TABLE CATEGORIA(
	IDcategoria VARCHAR(4) PRIMARY KEY NOT NULL,
	NOMBRE VARCHAR(10),
	DESCRIPCION VARCHAR(50), 
);

SELECT*FROM CLIENTES;
SELECT*FROM NUMEROS_CLIENTES;
SELECT*FROM CLIENTES_PROVEEDORES;
SELECT*FROM DIRECCIONES;
SELECT*FROM PRODUCTOS;
SELECT*FROM VENTAS;
SELECT*FROM PROVEEDORES
SELECT*FROM CATEGORIA;



ALTER TABLE CLIENTES ADD FOREIGN KEY (IDdireccion) REFERENCES DIRECCIONES(IDdireccion);
ALTER TABLE CLIENTES ADD FOREIGN KEY (IDnumero) REFERENCES NUMEROS_CLIENTES(IDnumero);
ALTER TABLE PROVEEDORES ADD FOREIGN KEY (IDnumero) REFERENCES NUMEROS_CLIENTES(IDnumero);
ALTER TABLE CLIENTES_PROVEEDORES ADD FOREIGN KEY (RUCcliente) REFERENCES CLIENTES(RUCcliente);
ALTER TABLE CLIENTES_PROVEEDORES ADD FOREIGN KEY (RUCproveedor) REFERENCES PROVEEDORES(RUCproveedor);
ALTER TABLE PRODUCTOS ADD FOREIGN KEY (RUCproveedor) REFERENCES PROVEEDORES(RUCproveedor);
ALTER TABLE PRODUCTOS ADD FOREIGN KEY (IDcategoria) REFERENCES CATEGORIA(IDcategoria);
ALTER TABLE VENTAS ADD FOREIGN KEY (RUCcliente) REFERENCES CLIENTES(RUCcliente);
ALTER TABLE PROVEEDORES ADD FOREIGN KEY (IDdireccion) REFERENCES DIRECCIONES(IDdireccion);

INSERT INTO CLIENTES(RUCcliente, NOMBRE, IDnumero, IDdireccion) 
VALUES('c20','Super99','N1','di1'),
	  ('c21','SuperPEPE','N2','di2'),
	  ('c22','El Mondongo ','N3','di3'),
	  ('c23','Vende Mucho','N4','di4');


INSERT INTO NUMEROS_CLIENTES(IDnumero,TELEFONO1 , TELEFONO2) 
VALUES('N1',12345612,78955878),
('N2',32165454,63266594),
('N3',36545987,24107834),
('N4',35645678,87985442),
('N5',78955878,NULL),
('N6',63266594,NULL),
('N7',24107834,NULL),
('N8',87985442,NULL);

INSERT INTO CLIENTES_PROVEEDORES(RUCcliente,RUCproveedor)
VALUES ('c20','a12' ),
('c21','a13' ),
('c22','a14' ),
('c23','a15' );

INSERT INTO DIRECCIONES(IDdireccion, NUMERO, CALLE, COMUNA, CIUDAD) 
VALUES('di1',7,17,'Mily','Ciudad de Panamá'),
('di2',17,28,'Oeste','Ciudad de Panamá Oeste'),
('di3',20,8,'Pepe','Ciudad de Panamá'),
('di4',2,16,'Lorenzo','Ciudad de Panamá'),
('di5',21,7,'San Miguelito','Ciudad de Panamá'),
('di6',32,12,'Chimán','Ciudad de Panamá Oeste'),
('di7',15,10,'Aguadulce','Ciudad de Panamá'),
('di8',2,13,'Almirante','Ciudad de Panamá');

INSERT INTO PRODUCTOS(IDproducto, NOMBRE, PRECIO_ACTUAL, STOCK, RUCproveedor, IDcategoria) 
VALUES('p31','Gatorade',5.00, 124, 'a14', 'ca1'),
('p32', 'Pepsi',12.00, 70, 'a13', 'ca1'),
('p33', 'Coca-Cola',1.00, 200, 'a12','ca1'),
('p34', 'Coca-Cola',1.25, 170, 'a15','ca2');

INSERT INTO VENTAS(IDventa, FECHA, RUCcliente,DESCUENTO, PRECIO_MOMENTO, MONTO_FINAL, CANTIDAD_VENDIDA, PRECIO_TOTAL) 
VALUES('v40','2023-02-12','c20', 0.6,5, 4.56, 6, 27.36),
('v41','2023-06-02','c21', 0, 0.3, 0.3, 40, 12),
('v42','2023-10-26','c22', 0.15, 0.25, 0.24, 10,2.4),
('v43','2022-07-18','c23', 0,10, 10, 20, 200);

INSERT INTO PROVEEDORES(RUCproveedor, NOMBRE, IDdireccion, IDnumero, PAGINA_WEB ) 
VALUES('a12','Coca-cola','di5','N5','www.cocacola.com'),
('a13','Pepsi','di6','N6','www.pepsi.com'),
('a14','Big Energy','di7','N7','www.bigenergy.com'),
('a15','Huele bien','di8','N8','www.huelebien.com');
--FALTO LA PAGINA WEB


INSERT INTO CATEGORIA(IDcategoria, NOMBRE, DESCRIPCION) 
VALUES('ca1','Bebidas','bebidas, alimento que se pueden tomar'),
('ca2','Higiene','producto para higiene personal'),
('ca3','Comida','producto alimenticio'),
('ca4','Tóxico','producto dañino y muy peligroso');


